<!--[include file="myprofile_admin_menu.htm"]-->

<h1><!--[gt text="information"]--></h1>

<p>
<!--[gt text="Registered users"]-->: <!--[$users]--><br />
<!--[gt text="Active users"]-->: <!--[$users_active]--><br />
<!--[gt text="Active in last two weeks"]-->: <!--[$users_14d]--><br />
<!--[gt text="Active in last month"]-->: <!--[$users_30d]--><br />
<!--[gt text="Active in last two months"]-->: <!--[$users_60d]--><br />
<!--[gt text="Active in last three months"]-->: <!--[$users_90d]--><br />
<!--[gt text="Active in last six months"]-->: <!--[$users_180d]--><br />
<!--[gt text="Active in last year"]-->: <!--[$users_365d]--><br />
<!--[gt text="New registrations in last month"]-->: <!--[$users_new30d]--><br />
<!--[gt text="Users with a myprofile profile"]-->: <!--[$myprofile]--><br />
<!--[gt text="Users without a myprofile profile"]-->: <!--[$noprofile]--><br />
<!--[gt text="Users with invalid email address"]-->: <!--[$invalidemail]--><br />
<!--[gt text="Users with invalid email address and no changes in last month"]-->: <!--[$invalidemail30d]--><br />
</p>

<p>
<!--[gt text="Range for graphical statistics"]-->:
<a href="<!--[pnmodurl modname="MyProfile" type="admin" func="information" range="7"]-->">7 <!--[gt text="days"]--></a>
| <a href="<!--[pnmodurl modname="MyProfile" type="admin" func="information" range="14"]-->">14 <!--[gt text="days"]--></a>
| <a href="<!--[pnmodurl modname="MyProfile" type="admin" func="information" range="31"]-->">31 <!--[gt text="days"]--></a>
| <a href="<!--[pnmodurl modname="MyProfile" type="admin" func="information" range="62"]-->">62 <!--[gt text="days"]--></a>
| <a href="<!--[pnmodurl modname="MyProfile" type="admin" func="information" range="93"]-->">93 <!--[gt text="days"]--></a>
| <a href="<!--[pnmodurl modname="MyProfile" type="admin" func="information" range="170"]-->">150 <!--[gt text="days"]--></a>
| <a href="<!--[pnmodurl modname="MyProfile" type="admin" func="information" range="365"]-->">365 <!--[gt text="days"]--></a>
| <a href="<!--[pnmodurl modname="MyProfile" type="admin" func="information" range="730"]-->">730 <!--[gt text="days"]--></a>
<br />
<!--[gt text="User-defined: Please specify range in days as url parameter named "range"!"]-->
</p>

<div id="my-timeplot" style="height: 600px;"></div>


<script type="text/javascript">
	Event.observe('body','load',onLoad());
	Event.observe('body','resize',onResize());

	var timeplot;	
	function onLoad() {
	}
	
	var resizeTimerID = null;
	function onResize() {
	    if (resizeTimerID == null) {
	        resizeTimerID = window.setTimeout(function() {
	            resizeTimerID = null;
	            timeplot.repaint();
	        }, 100);
	    }
	}

	function onLoad() {
	  var eventSource = new Timeplot.DefaultEventSource();

 var plotInfo = [
 	// users at all
    Timeplot.createPlotInfo({
      id: "plot1",
      dataSource: new Timeplot.ColumnSource(eventSource,3),
      valueGeometry: new Timeplot.DefaultValueGeometry({
        gridColor: "#000000",
        min: 0,
        max: <!--[$max]-->,
        showValues: true
      }),
      timeGeometry: new Timeplot.DefaultTimeGeometry({
        gridColor: new Timeplot.Color("#000000"),
        axisLabelsPlacement: "top"
      }),
      lineColor: "#7CFC00",
      showValues: true
    }),
 	// users active last 14 days
    Timeplot.createPlotInfo({
      id: "plot2",
      dataSource: new Timeplot.ColumnSource(eventSource,4),
      valueGeometry: new Timeplot.DefaultValueGeometry({
        gridColor: "#000000",
        min: 0,
        max: <!--[$max]-->,
        showValues: true
      }),
      timeGeometry: new Timeplot.DefaultTimeGeometry({
        gridColor: new Timeplot.Color("#000000"),
        axisLabelsPlacement: "top"
      }),
      lineColor: "#DC143C",
      showValues: true
    }),
 	// users active last 30 days
    Timeplot.createPlotInfo({
      id: "plot3",
      dataSource: new Timeplot.ColumnSource(eventSource,5),
      valueGeometry: new Timeplot.DefaultValueGeometry({
        gridColor: "#000000",
        min: 0,
        max: <!--[$max]-->,
        showValues: true
      }),
      timeGeometry: new Timeplot.DefaultTimeGeometry({
        gridColor: new Timeplot.Color("#000000"),
        axisLabelsPlacement: "top"
      }),
      lineColor: "#7FFFD4",
      showValues: true
    }),
 	// users active last 60 days
    Timeplot.createPlotInfo({
      id: "plot5",
      dataSource: new Timeplot.ColumnSource(eventSource,6),
      valueGeometry: new Timeplot.DefaultValueGeometry({
        gridColor: "#000000",
        min: 0,
        max: <!--[$max]-->,
        showValues: true
      }),
      timeGeometry: new Timeplot.DefaultTimeGeometry({
        gridColor: new Timeplot.Color("#000000"),
        axisLabelsPlacement: "top"
      }),
      lineColor: "#B8860B",
      showValues: true
    }),
   	// users active last 90 days
    Timeplot.createPlotInfo({
      id: "plot6",
      dataSource: new Timeplot.ColumnSource(eventSource,7),
      valueGeometry: new Timeplot.DefaultValueGeometry({
        gridColor: "#000000",
        min: 0,
        max: <!--[$max]-->,
        showValues: true
      }),
      timeGeometry: new Timeplot.DefaultTimeGeometry({
        gridColor: new Timeplot.Color("#000000"),
        axisLabelsPlacement: "top"
      }),
      lineColor: "#006400",
      showValues: true
    }),
   	// users active last half year
    Timeplot.createPlotInfo({
      id: "plot7",
      dataSource: new Timeplot.ColumnSource(eventSource,8),
      valueGeometry: new Timeplot.DefaultValueGeometry({
        gridColor: "#000000",
        min: 0,
        max: <!--[$max]-->,
        showValues: true
      }),
      timeGeometry: new Timeplot.DefaultTimeGeometry({
        gridColor: new Timeplot.Color("#000000"),
        axisLabelsPlacement: "top"
      }),
      lineColor: "#8B008B",
      showValues: true
    }),
   	// users active last year
    Timeplot.createPlotInfo({
      id: "plot8",
      dataSource: new Timeplot.ColumnSource(eventSource,9),
      valueGeometry: new Timeplot.DefaultValueGeometry({
        gridColor: "#000000",
        min: 0,
        max: <!--[$max]-->,
        showValues: true
      }),
      timeGeometry: new Timeplot.DefaultTimeGeometry({
        gridColor: new Timeplot.Color("#000000"),
        axisLabelsPlacement: "top"
      }),
      lineColor: "#FF8C00",
      showValues: true
    }),
	// users online day before
    Timeplot.createPlotInfo({
      id: "plot4",
      dataSource: new Timeplot.ColumnSource(eventSource,2),
      valueGeometry: new Timeplot.DefaultValueGeometry({
        gridColor: "#000000",
        min: 0,
        max: <!--[$max]-->,
        showValues: true
      }),
      timeGeometry: new Timeplot.DefaultTimeGeometry({
        gridColor: new Timeplot.Color("#000000"),
        axisLabelsPlacement: "top"
      }),
      lineColor: "#000000",
      showValues: true
    })
  ];


	  timeplot = Timeplot.create(document.getElementById("my-timeplot"), plotInfo);
	  var infofile = document.location.pnbaseURL + document.location.entrypoint + '?module=MyProfile&type=admin&func=getInformationRawData&range=<!--[pnvarcleanfrominput name="range"]-->';
	  timeplot.loadText(infofile, ",", eventSource);

	// enable grid


	}
</script>

<!--[gt text="Explanation"]-->: 
<span style="color: #7CFC00"><!--[gt text="active accounts"]--></span>,
<span style="color: #000000"><!--[gt text="online"]--></span>,
<span style="color: #DC143C"><!--[gt text="online last 2 weeks"]--></span>,
<span style="color: #7FFFD4"><!--[gt text="online last month"]--></span>,
<span style="color: #B8860B"><!--[gt text="online last 2 months"]--></span>,
<span style="color: #006400"><!--[gt text="online last three months"]--></span>,
<span style="color: #8B008B"><!--[gt text="online last 6 months"]--></span>,
<span style="color: #FF8C00"><!--[gt text="online last year"]--></span>.

<!--[include file="myprofile_admin_footer.htm"]-->